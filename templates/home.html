<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Vault</title>
    <style>
        /* General Page Styling */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #121212;
            color: #fff;
            margin: 0;
            padding: 0;
        }

        /* Existing styles - Keep these */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background: #121212;
            /* Changed to a light gray */
        }

        nav {
            display: flex;
            justify-content: space-between; /* Distribute elements horizontally */
            align-items: center; /* Align vertically */
            padding: 1.5rem 2rem;
            background: #1e1e1e;
            border-bottom: 1px solid #333;
            color: white;
        }

        .logo {
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 600;
            color: #6a5acd; /* PURPLE HERE*/
        }

        /* Styles for wallet address display */
        .wallet-info {
            text-align: center;
            margin-bottom: 0.5rem;
        }

        .wallet-label {
            font-size: 0.8rem;
            color: #bbb;
        }

        .wallet-address {
            font-size: 0.9rem;
            word-break: break-all;
            margin-bottom: 0.2rem;
        }

        .copy-button {
            background: #ddd;
            /* Lighter gray button */
            border: none;
            padding: 0.3rem 0.5rem;
            cursor: pointer;
            font-size: 0.8rem;
            border-radius: 3px;
            transition: background-color 0.2s;
            /* Smooth hover effect */
        }

        .copy-button:hover {
            background-color: #ccc;
            /* Darker gray on hover */
        }

        .nav-links {
            display: flex;
            gap: 3rem;
        }

        .nav-links a {
            color: #6a5acd;
            text-decoration: none;
            font-size: 1rem;
            letter-spacing: 0.5px;
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
            align-items: center; /* Vertically center the items */
        }

        .auth-buttons button {
            padding: 0.5rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            letter-spacing: 0.5px;
        }

        .login {
            background: transparent;
            color: #6a5acd;
            border: 1px solid #6a5acd;
            padding: 0.75rem 1.5rem; /* Adjusted padding for button size */
        }

        .register {
            background: linear-gradient(135deg, #6a5acd, #4b0082);
            color: white;
            padding: 0.75rem 1.5rem; /* Adjusted padding for button size */
        }

        .hero {
            text-align: center;
            padding: 4rem 2rem; /* Reduced padding for a more subtle hero */
            background: #1e1e1e;
            color: #fff;
            max-width: 800px;
            margin: 2rem auto; /* Added some margin */
            border-radius: 12px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        }

        .hero h1 {
            font-size: 2.2rem; /* Slightly reduced font size */
            margin-bottom: 1rem;
            font-weight: 600; /* Slightly bolder font weight */
            letter-spacing: -0.5px;
        }

        .hero p {
            margin-bottom: 2rem;
            color: #bbb;
            line-height: 1.6;
            font-size: 1rem; /* Ensure paragraph text is readable */
        }

        .cta-button {
            padding: 0.75rem 2rem; /* Adjusted padding */
            font-size: 1rem;
            background: linear-gradient(135deg, #6a5acd, #4b0082); /* Matched register button gradient */
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            letter-spacing: 0.5px;
            font-weight: bold;
            transition: background 0.3s ease;
        }

        .cta-button:hover {
            background: linear-gradient(135deg, #4b0082, #6a5acd); /* Inverted gradient on hover */
        }

        .features {
            padding: 4rem 2rem; /* Reduced padding */
            text-align: center;
            background: #1e1e1e;
            border-radius: 12px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            max-width: 1000px;
            margin: 2rem auto;
        }

        .features h2 {
            margin-bottom: 2rem;
            font-size: 1.6rem; /* Reduced font size */
            font-weight: 600;
            color: #f4f4f4;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .feature-card {
            padding: 1.5rem; /* Reduced padding */
            background: #262626;
            border-radius: 8px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
             border: 1px solid #333; /* Add a subtle border */
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.3);
        }

        .feature-card h3 {
            margin-bottom: 0.75rem;
            font-weight: 600;
            color: #f4f4f4;
        }

        .feature-card p {
            color: #bbb;
            line-height: 1.6;
            font-size: 0.9rem;
        }

        .btn-login {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
        }

        /* Profile image style */
        .profile-image {
            width: 40px;
            /* Adjust size as needed - bigger */
            height: 40px;
            border-radius: 50%;
            /* Make it round */
            background-color: #ccc;
            /* Placeholder background */
            display: inline-block;
            margin-left: 10px;
            overflow: hidden;
            /* Ensure image stays within bounds */
            cursor: pointer;
            /* Make it look clickable */
        }

        .profile-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Popup Styles */
        .profile-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e1e;  /* Dark background */
            color: #fff; /* White text */
            padding: 2rem;
            border: 1px solid #333;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5); /* Stronger shadow */
            z-index: 1000;
            display: none;
            width: 500px;
            border-radius: 12px;
        }

        .profile-popup h2 {
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            font-weight: 600;
            color: #fff;
            border-bottom: 1px solid #6a5acd; /* Purple divider */
            padding-bottom: 0.5rem;
        }

        .profile-popup p {
            margin-bottom: 0.7rem;
            color: #bbb;
            font-size: 1rem;
        }

        .profile-popup strong {
            color: #f4f4f4;
        }

                /* Professional Name/Username/Email Display */
        .profile-info-grid {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 0.75rem;
            margin-bottom: 1.25rem;
        }

        .profile-label {
            font-weight: bold;
            color: #f4f4f4; /* Lighter Gray */
            text-align: right; /* Right align labels */
        }

        .profile-value {
            color: #bbb; /* Light Gray */
        }

        .profile-popup .wallet-address {
            margin-bottom: 1.5rem;
            border: 1px solid #333; /* Dark border */
            padding: 0.7rem;
            word-break: break-all;
            background: #262626; /* Darker background */
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
        }

        .profile-popup .wallet-address p {
            margin: 0;
            flex: 1;
            color: #bbb;
        }

        .profile-popup .wallet-address button {
            background: #6a5acd;  /* Purple button */
            color: #fff;
            border: none;
            padding: 0.5rem 0.8rem;
            cursor: pointer;
            font-size: 0.8rem;
            border-radius: 5px;
            transition: background-color 0.2s;
        }

        .profile-popup .wallet-address button:hover {
            background-color: #4b0082; /* Darker purple on hover */
        }

        .profile-popup .close-button {
            position: absolute;
            top: 0.7rem;
            right: 0.7rem;
            cursor: pointer;
            font-size: 1.4rem;
            color: #777;
            transition: color 0.2s;
        }

        .profile-popup .close-button:hover {
            color: #fff;
        }

        .profile-popup > *:not(:last-child) {
            margin-bottom: 10px;
        }


        /* Logout button style */
        .logout-button {
            padding: 0.75rem 1.5rem;
            background: #4b0082; /* Darker purple */
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: opacity 0.2s;
            display: block;
            width: fit-content;
            margin: 2rem auto 0; /* Moved to the bottom */
        }

        .logout-button:hover {
            opacity: 0.8;
        }


        /* Overlay to dim the background */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 999;
            display: none;
        }

        /* Style the icon images */
        .currency-icon {
            width: 20px;
            height: 20px;
            margin-right: 5px;
            vertical-align: middle;
        }

        /* New styles for coin display */
        .coin-display {
            text-align: center;
            margin: 20px 0 30px 0;
            display: none;
        }

        .coin-display img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            margin-bottom: 15px;
            object-fit: contain;
            background-color: #fff;
            padding: 10px;
        }

        .coin-display h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #333;
        }

        .coin-display p {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .coin-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .coin-tab {
            padding: 8px 15px;
            background: #ddd;  /* Changed to a lighter gray */
            color: #333;   /* Added dark gray color */
            border: 1px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .coin-tab:hover {
            background: #ccc;  /* Slightly darker gray on hover */
        }

        .coin-tab.active {
            background: #000;  /* Black background for active tab */
            color: #fff;     /* White text for active tab */
            border-color: #000;
        }
        /* Remove profile image if not logged in */
        {% if not isLoggedIn %}
            .profile-image {
                display: none;
            }
        {% endif %}

        /* Logo Styling */
        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-image {
            width: 32px; /* Adjust to your logo size */
            height: 32px;
        }
        /* Clearfix to contain floats */
        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }

        /* About Button Styling */
        .about-button {
            padding: 0.75rem 2rem; /* Adjusted padding */
            font-size: 1rem;
            background: linear-gradient(135deg, #6a5acd, #4b0082); /* Matched register button gradient */
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            letter-spacing: 0.5px;
            font-weight: bold;
            transition: background 0.3s ease;
            display: block; /* Make it a block-level element */
            width: fit-content; /* Make the width fit its content */
            margin: 2rem auto; /* Center the button horizontally and add some top margin */
        }

        .about-button:hover {
            background: linear-gradient(135deg, #4b0082, #6a5acd); /* Inverted gradient on hover */
        }
    </style>
</head>

<body>
    <nav>
        <div class = "logo-container">
        <a href="{{ url_for('home') }}" class="logo">Pixel Vault</a>
        </div>
        <!-- In your nav-links section -->
        <div class="nav-links">
            {% if isLoggedIn %}
            <a href="{{ url_for('dashboard') }}">Dashboard</a>
            {% endif %}
        </div>
        <div class="auth-buttons">
            {% if isLoggedIn %}
            <div class="profile-image" onclick="openProfilePopup()">
                <img src="{{ profile_image_url }}" alt="Profile">
            </div>
            {% else %}
            <a href="{{ url_for('login') }}" class="login">Login</a>
            <button class="register" onclick="window.location.href='{{ url_for('register') }}'">Register</button>
            {% endif %}
        </div>
    </nav>
    <div class="hero">
        {% if isLoggedIn %}
            <h1>Welcome to Pixel Vault, {{ firstname[0].upper() + firstname[1:] }}!</h1>
            <p>Manage your digital assets securely and efficiently. Explore our features to take control of your crypto journey.</p>
        {% else %}
            <h1>Securely Manage Your Digital Assets with Pixel Vault</h1>
            <p>Your trusted platform for storing, managing, and transacting with cryptocurrencies. Explore the future of finance with Pixel Vault.</p>
            <!-- Change from the btn-login class button to another link to connect to the page -->
            <button class="cta-button" onclick="window.location.href='{{ url_for('register') }}'">Create Account</button>
        {% endif %}
        <!-- About Button -->
        <button class="about-button" onclick="window.location.href='{{ url_for('about') }}'">About</button>
    </div>


    <div class="features">
        <h2>Core Features</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h3>Uncompromising Security</h3>
                <p>Cutting-edge encryption and multi-factor authentication protect your digital assets from unauthorized access.</p>
            </div>
            <div class="feature-card">
                <h3>Multi-Currency Support</h3>
                <p>Seamlessly manage a wide range of cryptocurrencies, from Bitcoin and Ethereum to USDT and beyond, all in one convenient
                    place.</p>
            </div>
            <div class="feature-card">
                <h3>Intuitive User Experience</h3>
                <p>Our platform is designed for simplicity and ease of use, ensuring a smooth and seamless experience for both
                    beginners and experienced crypto enthusiasts.</p>
            </div>
            <div class="feature-card">
                <h3>Complete Control</h3>
                <p>You maintain full control over your private keys, giving you ultimate ownership and responsibility for your digital
                    assets.</p>
            </div>
        </div>
    </div>

    <!-- Profile Popup -->
    <div class="profile-popup" id="profilePopup">
        <span class="close-button" onclick="closeProfilePopup()">×</span>
        <h2>Profile Details</h2>

        <div class="profile-info-grid">
            <div class="profile-label">Name:</div>
            <div class="profile-value">{{ firstname }} {{ lastname }}</div>

            <div class="profile-label">Username:</div>
            <div class="profile-value">{{ username }}</div>

            <div class="profile-label">Email:</div>
            <div class="profile-value">{{ email }}</div>
        </div>


        <!-- Coin Tabs -->
        <div class="coin-tabs">
            <div class="coin-tab active" onclick="showCoin('btc')">BTC</div>
            <div class="coin-tab" onclick="showCoin('usdt')">USDT</div>
            <div class="coin-tab" onclick="showCoin('eth')">ETH</div>
        </div>

        <!-- Coin Display Areas -->
        <div id="btc-display" class="coin-display" style="display: block;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Bitcoin.svg/1200px-Bitcoin.svg.png"
                alt="Bitcoin">
            <h3>Bitcoin (BTC)</h3>
            <p>Your BTC wallet address is:</p>
            <div class="wallet-address">
                <p id="btc_wallet_address"> {{ btc_address or 'N/A' }} </p>
                <button onclick="copyAddress('{{ btc_address }}')">Copy</button>
            </div>
        </div>

        <div id="usdt-display" class="coin-display">
            <img src="https://cryptologos.cc/logos/tether-usdt-logo.png?v=026" alt="Tether" width="100">
            <h3>Tether (USDT)</h3>
            <p>Your USDT wallet address is:</p>
            <div class="wallet-address">
                <p id="usdt_wallet_address"> {{ usdt_address or 'N/A' }} </p>
                <button onclick="copyAddress('{{ usdt_address }}')">Copy</button>
            </div>
        </div>


        <div id="eth-display" class="coin-display">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Ethereum-icon-purple.svg/1200px-Ethereum-icon-purple.svg.png"
                alt="Ethereum">
            <h3>Ethereum (ETH)</h3>
            <p>Your ETH wallet address is:</p>
            <div class="wallet-address">
                <p id="eth_wallet_address"> {{ eth_address or 'N/A' }} </p>
                <button onclick="copyAddress('{{ eth_address }}')">Copy</button>
            </div>
        </div>
        <button class="logout-button" onclick="window.location.href='{{ url_for('logout') }}'">Logout</button>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>


    <script>
        function openProfilePopup() {
            document.getElementById('profilePopup').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
            // Default to showing Bitcoin when opening
            showCoin('btc');
        }

        function closeProfilePopup() {
            document.getElementById('profilePopup').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        function copyAddress(address) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(address)
                    .then(() => {
                        alert('Address copied to clipboard!');
                    })
                    .catch(err => {
                        console.error('Failed to copy: ', err);
                        alert('Failed to copy address. Please try again.');
                    });
            } else {
                alert('Clipboard API not available. Please manually copy the address.');
            }
        }

        function showCoin(coinType) {
            // Hide all coin displays
            document.querySelectorAll('.coin-display').forEach(display => {
                display.style.display = 'none';
            });

            // Show the selected coin display
            document.getElementById(coinType + '-display').style.display = 'block';

            // Update tab active states
            document.querySelectorAll('.coin-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Find the clicked tab and make it active
            event.target.classList.add('active');
        }

    </script>
</body>

</html>